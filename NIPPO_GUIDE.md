# 日報システム (nippo) 使用ガイド

Go言語で作成された高速で保守性の高い日報システムです。

## 📋 目次
- [初期セットアップ](#初期セットアップ)
- [基本的な使い方](#基本的な使い方)
- [セクション別機能](#セクション別機能)
- [AI日報完成機能](#ai日報完成機能)
- [Neovimとの連携](#neovimとの連携)
- [トラブルシューティング](#トラブルシューティング)

## 🚀 初期セットアップ

### 1. Goプログラムのビルド
```bash
cd ~/dotfiles/scripts/nippo-go
go build -o ../nippo .
```

### 2. エイリアスの設定確認
```bash
# .zshrcに以下が設定されていることを確認
alias npa="$HOME/dotfiles/scripts/nippo"
```

### 3. 設定の反映
```bash
source ~/.config/.zshrc
# または新しいターミナルセッションを開始
```

## 📝 基本的な使い方

### 新しい日報の作成
```bash
# 初回実行時に自動的にテンプレートが作成される
npa "今日の最初の作業内容"
```

### 作業ログの追記
```bash
# 基本の作業ログ追記
npa "APIの開発を進めた"
npa "バグの修正を完了"
npa "レビューを実施"
```

## 🎯 セクション別機能

### 目標設定
```bash
npa "目標:データベース設計を完了する"
npa "目標:API実装 目標:テスト作成"  # 複数設定可能
```
→ 🎯 今日の目標セクションに `- [ ]` 形式で追加

### 進捗報告
```bash
npa "進捗:データベース設計が80%完了"
npa "進捗:API実装が50%完了"
```
→ 📊 進捗状況セクションに追加

### 学びと気づき
```bash
npa "学び:Goの並行処理を理解した"
npa "気づき:エラーハンドリングの重要性"
npa "振り返り:今日は効率的に進められた"
```
→ 💡 学びと気づきセクションに追加

### 明日への申し送り
```bash
npa "明日:テストコードを作成する"
npa "明日:レビュー対応 明日:デプロイ準備"
```
→ 🚀 明日への申し送りセクションに追加

### 目標達成
```bash
npa "目標達成:データベース設計"
```
→ 該当する目標の `[ ]` を `[x]` に変更

### 複数項目の組み合わせ
```bash
npa "目標:API開発 進捗:設計完了 学び:新技術 気づき:重要な発見 明日:テスト作成"
```

## 🤖 AI日報完成機能

### Neovimでの使用
```vim
" 今日の日報を開く
<leader>no  (スペース + n + o)

" 日中の作業追記
<leader>na  (スペース + n + a)

" 終業時: 日報完成プロンプトをクリップボードにコピー
<leader>nc  (スペース + n + c)

" CopilotChatの結果を日報ファイルに適用
<leader>nr  (スペース + n + r)
```

### AI日報完成の手順
1. `<leader>nc` でプロンプトをクリップボードにコピー
2. `:CopilotChat` でCopilotChatを開く
3. `Cmd+V` でプロンプトを貼り付けて実行
4. `<leader>nr` で結果を日報ファイルに適用

## 📁 ファイル構成

```
dotfiles/
├── scripts/
│   ├── nippo                 # Goバイナリ（メイン）
│   ├── nippo_append.sh      # 旧シェルスクリプト版（バックアップ）
│   └── nippo-go/           # Goソースコード
│       ├── main.go         # メインプログラム
│       ├── sections.go     # セクション処理
│       └── go.mod          # Go modules
├── nippos/                 # 日報ファイル保存場所
│   ├── nippo.2026-01-15.md
│   └── nippo.2026-01-16.md
└── NIPPO_FINALIZE_AI.md    # AI完成プロンプト
```

## 📅 生成される日報の構造

```markdown
# 日報 2026年01月15日

## 📝 作業ログ
### 15:30 - API開発
API開発を進めた

---

## 🎯 今日の目標
- [ ] （後で記入）
- [ ] データベース設計を完了する

## 📊 進捗状況
（セッション終了時に記入）
• データベース設計が80%完了

## 💡 学びと気づき
（随時追記）
• Goの並行処理を理解した
• エラーハンドリングの重要性

## 🚀 明日への申し送り
（本日終了時に記入）
• テストコードを作成する
```

## 🔧 トラブルシューティング

### ビルドエラーが発生する場合
```bash
cd ~/dotfiles/scripts/nippo-go
go mod tidy
go build -o ../nippo .
```

### npaコマンドが見つからない場合
```bash
# エイリアスの確認
alias | grep npa

# 手動実行
$HOME/dotfiles/scripts/nippo "テスト"
```

### ファイルが作成されない場合
```bash
# ディレクトリの確認
ls ~/dotfiles/nippos/

# 権限の確認
ls -la ~/dotfiles/scripts/nippo
chmod +x ~/dotfiles/scripts/nippo
```

## 💡 使用例

### 一日の流れ
```bash
# 朝: 目標設定
npa "目標:新機能の実装 目標:バグ修正"

# 作業中: 進捗報告
npa "新機能のAPI設計を開始"
npa "進捗:API設計が70%完了"

# 昼: 学びの記録
npa "学び:REST APIの設計パターンを理解"

# 夕方: 振り返りと明日への準備
npa "気づき:テスト駆動開発の効果を実感"
npa "明日:単体テストの作成 明日:統合テストの実装"
npa "目標達成:新機能の実装"
```

### 最終的にNeovimでAI完成
1. `<leader>nc` → プロンプトコピー
2. CopilotChatで実行 → 詳細な分析・補完
3. `<leader>nr` → 完成版を適用

これで効率的で詳細な日報が完成します！🎉
